{
  "routingDefaults": {
    "maxJourneyDuration": "6h",
    "boardSlack": "0M",
    "alightSlack": "0M",
    "transferSlack": 180,
    "waitReluctance": 0.9,
    "numItineraries": 3,
    "itineraryFilters": {
      "parkAndRideDurationRatio": 0.15,
      "bikeRentalDistanceRatio": 0.15,

      // only show non-transit (ie. walking) when it's at least as good as the transit option
      "nonTransitGeneralizedCostLimit": "0 + 1.5 x"
    },
    "car" : {
      "reluctance" : 20.0
    },
    "streetRoutingTimeout" : "7s",
    "accessEgress" : {
      "penalty" : {
        "SCOOTER_RENTAL" : {
          "timePenalty" : "0m + 0.8t",
          "costFactor" : 1.0
        },
        "BIKE_RENTAL" : {
          "timePenalty" : "0m + 0.8t",
          "costFactor" : 1.0
        }
      }
    }
  },
  "flex": {
    "maxAccessWalkDuration": "10m",
    "maxEgressWalkDuration": "10m"
  },
  "transit": {
    "maxNumberOfTransfers": 4,
    "dynamicSearchWindow": {
      "minTransitTimeCoefficient": 0.5,
      "minWaitTimeCoefficient": 0.5,
      "minWindow": "1h",
      "maxWindow": "8h"
    }
  },
  "updaters": [
    {
      "type": "real-time-alerts",
      "frequency": "45s",
      "url": "https://developer.trimet.org/ws/v1/gtfsCache?feedId=CLACKAMAS&type=alerts&appid=8CBD14D520C6026CC7EEE56A9",
      "feedId": "CLACKAMAS"
    },
    {
      "type": "real-time-alerts",
      "frequency": "45s",
      "url": "https://developer.trimet.org/ws/v1/gtfsCache?feedId=CTRAN&type=alerts&appid=8CBD14D520C6026CC7EEE56A9",
      "feedId": "CTRAN"
    },
    {
      "type": "stop-time-updater",
      "frequency": "11s",
      "url": "https://developer.trimet.org/ws/v1/gtfsCache?feedId=CTRAN&type=trips&appid=8CBD14D520C6026CC7EEE56A9",
      "feedId": "CTRAN"
    },
    {
      "type": "vehicle-positions",
      "frequency": "14s",
      "url": "https://developer.trimet.org/ws/v1/gtfsCache?feedId=CTRAN&type=vehicles&appid=8CBD14D520C6026CC7EEE56A9",
      "feedId": "CTRAN"
    },
    {
      "type": "real-time-alerts",
      "frequency": "45s",
      "url": "https://developer.trimet.org/ws/v1/gtfsCache?feedId=SAM&type=alerts&appid=8CBD14D520C6026CC7EEE56A9",
      "feedId": "SAM"
    },
    {
      "type": "real-time-alerts",
      "frequency": "45s",
      "url": "https://developer.trimet.org/ws/v1/gtfsCache?feedId=SMART&type=alerts&appid=8CBD14D520C6026CC7EEE56A9",
      "feedId": "SMART"
    },
    {
      "type": "stop-time-updater",
      "frequency": "11s",
      "url": "https://developer.trimet.org/ws/v1/gtfsCache?feedId=SMART&type=trips&appid=8CBD14D520C6026CC7EEE56A9",
      "feedId": "SMART"
    },
    {
      "type": "vehicle-positions",
      "frequency": "14s",
      "url": "https://developer.trimet.org/ws/v1/gtfsCache?feedId=SMART&type=vehicles&appid=8CBD14D520C6026CC7EEE56A9",
      "feedId": "SMART"
    },
    {
      "type": "real-time-alerts",
      "frequency": "45s",
      "url": "http://trimet.org/transweb/ws/V1/FeedSpecAlerts?includeFuture=true&suppressSystemWideAlerts=true",
      "feedId": "TRIMET"
    },
    {
      "type": "stop-time-updater",
      "frequency": "11s",
      "url": "http://trimet.org/transweb/ws/V1/TripUpdate?n",
      "feedId": "TRIMET"
    },
    {
      "type": "vehicle-positions",
      "frequency": "13s",
      "url": "http://trimet.org/transweb/ws/V1/VehiclePositions?n",
      "feedId": "TRIMET"
    },
    {
      "type": "real-time-alerts",
      "frequency": "45s",
      "url": "https://developer.trimet.org/ws/v1/gtfsCache?feedId=WAPARK&type=alerts&appid=8CBD14D520C6026CC7EEE56A9",
      "feedId": "WAPARK"
    },
    {
      "type": "stop-time-updater",
      "frequency": "11s",
      "url": "https://developer.trimet.org/ws/v1/gtfsCache?feedId=WAPARK&type=trips&appid=8CBD14D520C6026CC7EEE56A9",
      "feedId": "WAPARK"
    },
    {
      "type": "vehicle-positions",
      "frequency": "14s",
      "url": "https://developer.trimet.org/ws/v1/gtfsCache?feedId=WAPARK&type=vehicles&appid=8CBD14D520C6026CC7EEE56A9",
      "feedId": "WAPARK"
    },
    {
      "type": "vehicle-rental",
      "frequency": "40s",
      "sourceType": "gbfs",
      "url": "https://gbfs.biketownpdx.com/gbfs/2.3/gbfs.json"
    },
    {
      "type": "vehicle-rental",
      "frequency": "43s",
      "network": "LIME",
      "sourceType": "gbfs",
      "url": "https://data.lime.bike/api/partners/v2/gbfs/portland/gbfs.json"
    }
  ],
  "vectorTiles": {
    "basePath": "/rtp/routers/default/vectorTiles",
    "attribution": "<a href='https://rtp.trimet.org/rtp/#/route'>Regional Partners</a>",
    "layers": [
      {
        "name": "stops",
        "type": "Stop",
        "mapper": "Digitransit",
        "maxZoom": 30,
        "minZoom": 1,
        "filter": "sunday-to-sunday-service-week",
        "cacheMaxSeconds": 600
      },
      {
        "name": "areaStops",
        "type": "AreaStop",
        "mapper": "OTPRR",
        "maxZoom": 30,
        "minZoom": 1,
        "filter": "sunday-to-sunday-service-week",
        "cacheMaxSeconds": 600
      },
      {
        "name": "stations",
        "type": "Station",
        "mapper": "Digitransit",
        "maxZoom": 30,
        "minZoom": 1,
        "filter": "sunday-to-sunday-service-week",
        "cacheMaxSeconds": 600
      },
      {
        "name": "rentalVehicles",
        "type": "VehicleRentalVehicle",
        "mapper": "Digitransit",
        "maxZoom": 30,
        "minZoom": 1,
        "cacheMaxSeconds": 60
      },
      {
        "name": "realtimeRentalStations",
        "type": "VehicleRentalStation",
        "mapper": "DigitransitRealtime",
        "maxZoom": 30,
        "minZoom": 1,
        "cacheMaxSeconds": 90
      },
      {
        "name": "rentalStations",
        "type": "VehicleRentalStation",
        "mapper": "Digitransit",
        "maxZoom": 30,
        "minZoom": 1,
        "cacheMaxSeconds": 600
      },
      {
        "name": "vehicleParking",
        "type": "VehicleParking",
        "mapper": "Digitransit",
        "maxZoom": 30,
        "minZoom": 1,
        "cacheMaxSeconds": 600,
        "expansionFactor": 0.25
      }
    ]
  }
}
